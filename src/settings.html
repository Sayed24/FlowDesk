<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FlowDesk â€¢ Settings</title>

  <!-- CSS -->
  <link rel="stylesheet" href="css/variables.css" />
  <link rel="stylesheet" href="css/base.css" />
  <link rel="stylesheet" href="css/layout.css" />
  <link rel="stylesheet" href="css/components.css" />
  <link rel="stylesheet" href="css/playful.css" />
  <link rel="stylesheet" href="css/responsive.css" />
</head>

<body>

<div class="app">

  <!-- Sidebar -->
  <aside class="sidebar">
    <h1 class="logo" data-i18n="app_name"></h1>

    <nav class="nav">
      <a href="index.html" class="nav-link" data-i18n="nav.dashboard"></a>
      <a href="tasks.html" class="nav-link" data-i18n="nav.tasks"></a>
      <a href="habits.html" class="nav-link" data-i18n="nav.habits"></a>
      <a href="settings.html" class="nav-link active" data-i18n="nav.settings"></a>
      <a href="#" id="logoutBtn" class="nav-link" data-i18n="nav.logout"></a>
    </nav>
  </aside>

  <!-- Main -->
  <main class="main">

    <header class="topbar">
      <h2 data-i18n="settings.title"></h2>
      <button class="theme-toggle" id="themeToggle">ğŸŒ™</button>
    </header>

    <section class="content">

      <!-- Language -->
      <div class="card">
        <h3 data-i18n="settings.language"></h3>

        <select id="languageSelect">
          <option value="en">English</option>
          <option value="es">EspaÃ±ol</option>
        </select>
      </div>

      <!-- Theme -->
      <div class="card">
        <h3 data-i18n="settings.theme"></h3>
        <button id="toggleThemeBtn" data-i18n="settings.toggle_theme"></button>
      </div>

      <!-- Data -->
      <div class="card danger">
        <h3 data-i18n="settings.data"></h3>
        <button id="clearDataBtn" data-i18n="settings.clear_data"></button>
      </div>

    </section>

  </main>

</div>

<!-- Bottom Nav (Mobile) -->
<nav class="bottom-nav">
  <a href="index.html">ğŸ </a>
  <a href="tasks.html">âœ…</a>
  <a href="habits.html">ğŸ”¥</a>
  <a href="settings.html" class="active">âš™ï¸</a>
</nav>

<!-- JS -->
<script src="js/i18n.js"></script>
<script src="js/main.js"></script>

<script>
  /* Language Selector */
  const langSelect = document.getElementById("languageSelect");
  langSelect.value = localStorage.getItem("flowdesk_lang") || "en";

  langSelect.addEventListener("change", e => {
    I18N.load(e.target.value);
  });

  /* Clear Data */
  document.getElementById("clearDataBtn").addEventListener("click", () => {
    if (confirm(I18N.t("settings.clear_confirm"))) {
      indexedDB.deleteDatabase("flowdeskDB");
      localStorage.clear();
      alert(I18N.t("settings.cleared"));
      location.reload();
    }
  });
</script>

</body>
</html>
