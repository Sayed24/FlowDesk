<!DOCTYPE html>
<html>
<head>
  <title>Settings â€“ FlowDesk</title>
  <link rel="stylesheet" href="css/ux-fixes.css">
  <link rel="stylesheet" href="css/global.css">
</head>
<body>

<h1>Settings</h1>
  <div class="card">
  <h3>Data Management</h3>

  <button class="btn" onclick="importFile.click()">Restore Backup</button>
  <button class="btn" id="backupBtn">Export Backup</button>

  <hr>

  <button class="btn" onclick="exportCSV('tasks')">Export Tasks CSV</button>
  <button class="btn" onclick="exportCSV('notes')">Export Notes CSV</button>
  <button class="btn" onclick="exportCSV('goals')">Export Goals CSV</button>
  <button class="btn" onclick="exportCSV('habits')">Export Habits CSV</button>

  <input type="file" id="importFile" hidden>
</div>

<script type="module">
  import { exportBackup, importBackup } from "./js/backup.js";
  import { exportCSV } from "./js/export-csv.js";

  document.getElementById("backupBtn").onclick = exportBackup;
  document.getElementById("importFile").onchange = e =>
    importBackup(e.target.files[0]);
</script>


<h3>Theme</h3>
<input type="color" id="themePicker">

<h3>Backup</h3>
<button id="export">Export</button>
<input type="file" id="import">

<script src="js/theme.js"></script>
<script src="js/backup.js"></script>

<script>
document.getElementById("themePicker").oninput = e =>
  setTheme(e.target.value);

document.getElementById("export").onclick = exportData;
document.getElementById("import").onchange = e =>
  importData(e.target.files[0]);
</script>

</body>
</html>

