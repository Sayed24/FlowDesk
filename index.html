<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>FlowDesk â€¢ Dashboard</title>

  <!-- CSS -->
  <link rel="stylesheet" href="css/variables.css">
  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/layout.css">
  <link rel="stylesheet" href="css/components.css">
  <link rel="stylesheet" href="css/animations.css">
</head>

<body>

  <!-- Sidebar -->
  <aside class="sidebar">
    <h2 class="logo">FlowDesk</h2>

    <nav>
      <a class="nav-link active" href="index.html">Dashboard</a>
      <a class="nav-link" href="tasks.html">Tasks</a>
      <a class="nav-link" href="habits.html">Habits</a>
      <a class="nav-link" href="settings.html">Settings</a>
      <a class="nav-link" data-logout>Logout</a>
    </nav>
  </aside>

  <!-- Main -->
  <main class="main-content">

    <header class="topbar">
      <button class="theme-toggle">ðŸŒ™</button>
    </header>

    <section class="dashboard-grid">

      <div class="card">
        <h3>Tasks</h3>
        <p id="task-count">0 active</p>
      </div>

      <div class="card">
        <h3>Habits</h3>
        <p id="habit-count">0 tracked</p>
      </div>

      <div class="card">
        <h3>Focus Time</h3>
        <p>0h today</p>
      </div>

      <div class="card">
        <h3>Streak</h3>
        <p>0 days</p>
      </div>

    </section>

    <button class="fab">ï¼‹</button>

  </main>

  <!-- JS -->
  <script src="js/auth.js"></script>
  <script src="js/db.js"></script>
  <script src="js/main.js"></script>
  <script>
    /* Dashboard data */
    document.addEventListener("DOMContentLoaded", async () => {
      if (!window.db) return;

      const tasks = await db.getAll("tasks");
      const habits = await db.getAll("habits");

      document.getElementById("task-count").textContent =
        tasks.filter(t => !t.done).length + " active";

      document.getElementById("habit-count").textContent =
        habits.length + " tracked";
    });
  </script>

</body>
</html>
